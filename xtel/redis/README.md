<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# redis

```go
import "github.com/gojekfarm/xtools/xtel/redis"
```

## Index

- [func NewHook(opts ...Option) redis.Hook](<#func-newhook>)
- [type Option](<#type-option>)
  - [func WithAttributes(attrs ...attribute.KeyValue) Option](<#func-withattributes>)
  - [func WithTracerProvider(trpr trace.TracerProvider) Option](<#func-withtracerprovider>)


## func [NewHook](<https://source.golabs.io/go-food/xtools/-/blob/master/xtrace/redis/hook.go#L10>)

```go
func NewHook(opts ...Option) redis.Hook
```

NewHook returns a new hook\, consisting of a tracer and attribute configured according to the given Option\(s\)\.

<details><summary>Example</summary>
<p>

```go
{
	rdb := redis.NewClient(&redis.Options{
		Addr: "localhost:6379",
	})

	h := xredis.NewHook()
	rdb.AddHook(h)
}
```

</p>
</details>

## type [Option](<https://source.golabs.io/go-food/xtools/-/blob/master/xtrace/redis/options.go#L10>)

Option represents an option that can be used to configure the tracer provider\.

```go
type Option func(*options)
```

### func [WithAttributes](<https://source.golabs.io/go-food/xtools/-/blob/master/xtrace/redis/options.go#L22>)

```go
func WithAttributes(attrs ...attribute.KeyValue) Option
```

WithAttributes specifies additional attributes to be added to the span\.

<details><summary>Example</summary>
<p>

```go
package main

import (
	"context"

	sdktrace "go.opentelemetry.io/otel/sdk/trace"

	semconv "go.opentelemetry.io/otel/semconv/v1.10.0"

	xredis "github.com/gojekfarm/xtools/xtel/redis"
)

func main() {
	provider := sdktrace.NewTracerProvider()
	xredis.NewHook(
		xredis.WithTracerProvider(provider),
		xredis.WithAttributes(semconv.NetPeerNameKey.String("localhost")))

	_, span := provider.Tracer("redis-example").Start(context.TODO(), "redis-example")
	defer span.End()
}
```

</p>
</details>

### func [WithTracerProvider](<https://source.golabs.io/go-food/xtools/-/blob/master/xtrace/redis/options.go#L15>)

```go
func WithTracerProvider(trpr trace.TracerProvider) Option
```

WithTracerProvider returns an Option using the options type and TracerProvider\. It sets the options for the given TracerProvider\, which can be used for the instrumentation of Tracers\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
